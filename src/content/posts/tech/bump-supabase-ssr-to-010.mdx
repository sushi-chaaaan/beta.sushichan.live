---
title: '@supabase/ssrで認証まわりを扱うときの注意'
description: ""
createdAt: 2024-02-04
thumbnail: https://res.cloudinary.com/sushi-chan/image/upload/v1706980578/tech/bump-supabase-ssr-to-010/9584294D-14E1-40B9-A18D-C314368D0742_1_105_c_pth4zi.jpg
tags:
  - 技術
  - Supabase
status: published
---

こんにちは、あるいは初めまして。<br />
すしと申します。

<TextCard>Supabase、便利ですよね！</TextCard>

Supabaseは、Firebase代替のBaaSであり、DBや認証、ファイルストレージなどの機能を手間なく利用できます。

そんなSupabaseですがSSRやReact Server Components(以下RSC)にもベータながら対応しており、
最近フレームワークを問わない認証ユーティリティである `@supabase/ssr` がリリースされました。[^1]
[^1]: 以前はフレームワークごとにパッケージが分かれていましたが、今はこちらへ移行することが推奨されています。

<UrlCard url="https://github.com/supabase/auth-helpers" />

このパッケージを使うことで、サーバーサイドで認証機能にアクセスするのが簡単になって便利なのですが、先日思わぬトラブルに遭遇したので備忘録として書き残しておきます。

## 結論

> @supabase/ssrを必ず0.1.0以上に更新してください

## 遭遇したトラブル

Supabase Authを使ってTwitterアカウントでログインする機能を実装している際に、
Twitterのハンドルネームが5文字以上だとログインに成功してもセッションが壊れるという不具合が発生しました。


wip...
