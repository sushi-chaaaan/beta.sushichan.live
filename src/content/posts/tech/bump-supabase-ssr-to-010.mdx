---
title: '@supabase/ssrで認証まわりを扱うときの注意'
description: ""
createdAt: 2024-02-04
thumbnail: https://res.cloudinary.com/sushi-chan/image/upload/v1706980578/tech/bump-supabase-ssr-to-010/9584294D-14E1-40B9-A18D-C314368D0742_1_105_c_pth4zi.jpg
tags:
  - 技術
  - Supabase
status: published
---

こんにちは、あるいは初めまして。<br />
すしと申します。

<TextCard>Supabase、便利ですよね！</TextCard>

Supabaseは、Firebase代替のBaaSであり、DBや認証、ファイルストレージなどの機能を手間なく利用できます。

そんなSupabaseですがSSRやReact Server Components(以下RSC)にもしっかり対応しており、
最近フレームワークを問わないパッケージである `@supabase/ssr` がリリースされました。

<UrlCard url="https://github.com/supabase/auth-helpers" />

RSCからSupabaseの認証機能にアクセスしてUIを出し分けたりできてとても便利なのですが、先日認証まわりで思わぬトラブルに遭遇したので備忘録として書き残しておきます。

## 結論

> @supabase/ssrを必ず0.1.0以上に更新してください

## 遭遇したトラブル

Supabase Authを使ってTwitterアカウントでログインする機能を実装している際に、
Twitterのハンドルネームが5文字以上だとログインに成功してもセッションが壊れるという不具合が発生しました。


wip...
