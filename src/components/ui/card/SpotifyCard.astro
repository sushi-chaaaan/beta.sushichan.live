---
import Card from "@/components/base/Card.astro"
import { Spotify } from "react-spotify-embed"
import { tv, type VariantProps } from "tailwind-variants"

type StyleProps = VariantProps<typeof style>
interface Props extends StyleProps {
  url: string
}

const { url, ...props } = Astro.props

const style = tv({
  variants: {
    shape: {
      wide: "h-[80px] w-full md:h-[152px]",
      square: "aspect-square w-full",
    },
  },
  defaultVariants: {
    shape: "wide",
  },
})
---

<Card shadow>
  <Spotify class:list={style({ ...props })} link={url} loading="lazy" />
</Card>
